/*!
 * History API JavaScript Library v4.2.7
 *
 * Support: IE8+, FF3+, Opera 9+, Safari, Chrome and other
 *
 * Copyright 2011-2015, Dmitrii Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Update: 2016-03-08 16:57
 */
!function(e){if("function"==typeof define&&define.amd){if("undefined"!=typeof requirejs){var t="[history"+(new Date).getTime()+"]",n=requirejs.onError;e.toString=function(){return t},requirejs.onError=function(e){-1===e.message.indexOf(t)&&n.call(requirejs,e)}}define([],e)}if("object"!=typeof exports||"undefined"==typeof module)return e();module.exports=e()}(function(){var e=("object"==typeof window?window:this)||{};if(!e.history||"emulate"in e.history)return e.history;var t,n=e.document,r=n.documentElement,i=e.Object,a=e.JSON,o=e.location,c=e.history,f=c,l=c.pushState,s=c.replaceState,u=function(){var t=e.navigator.userAgent;if((-1!==t.indexOf("Android 2.")||-1!==t.indexOf("Android 4.0"))&&-1!==t.indexOf("Mobile Safari")&&-1===t.indexOf("Chrome")&&-1===t.indexOf("Windows Phone"))return!1;return!!l}(),p="state"in c,h=i.defineProperty,d=G({},"t")?{}:n.createElement("a"),v="",g=e.addEventListener?"addEventListener":(v="on")&&"attachEvent",_=e.removeEventListener?"removeEventListener":"detachEvent",y=e.dispatchEvent?"dispatchEvent":"fireEvent",m=e[g],E=e[_],x=e[y],b={basepath:"/",redirect:0,type:"/",init:0},O="__historyAPI__",S=n.createElement("a"),w=o.href,j="",A=1,R=!1,T=0,$={},I={},L=n.title,P={onhashchange:null,onpopstate:null},N=function(t,n){var r=e.history!==c;r&&(e.history=c),t.apply(c,n),r&&(e.history=f)},B={setup:function(e,t,n){b.basepath=(""+(null==e?b.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),b.type=null==t?b.type:t,b.redirect=null==n?b.redirect:!!n},redirect:function(t,n){if(f.setup(n,t),n=b.basepath,e.top==e.self){var r=D(null,!1,!0)._relative,i=o.pathname+o.search;u?(i=i.replace(/([^\/])$/,"$1/"),r!=n&&new RegExp("^"+n+"$","i").test(i)&&o.replace(r)):i!=n&&(i=i.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(i)&&o.replace(n+"#"+i.replace(new RegExp("^"+n,"i"),b.type)+o.hash))}},pushState:function(e,t,r){var i=n.title;null!=L&&(n.title=L),l&&N(l,arguments),J(e,r),n.title=i,L=t},replaceState:function(e,t,r){var i=n.title;null!=L&&(n.title=L),delete $[o.href],s&&N(s,arguments),J(e,r,!0),n.title=i,L=t},location:{set:function(t){0===T&&(T=1),e.location=t},get:function(){return 0===T&&(T=1),d}},state:{get:function(){return"object"==typeof $[o.href]?a.parse(a.stringify($[o.href])):void 0!==$[o.href]?$[o.href]:null}}},k={assign:function(e){u||0!==(""+e).indexOf("#")?o.assign(e):J(null,e)},reload:function(e){o.reload(e)},replace:function(e){u||0!==(""+e).indexOf("#")?o.replace(e):J(null,e,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==t?t:o.origin?o.origin:o.protocol+"//"+o.hostname+(o.port?":"+o.port:"")},set:function(e){t=e}},href:u?null:{get:function(){return D()._href}},protocol:null,host:null,hostname:null,port:null,pathname:u?null:{get:function(){return D()._pathname}},search:u?null:{get:function(){return D()._search}},hash:u?null:{set:function(e){J(null,(""+e).replace(/^(#|)/,"#"),!1,w)},get:function(){return D()._hash}}};function q(){}function D(e,t,r){if(null==e||""===e||t)e=t?e:o.href,u&&!r||(e=e.replace(/^[^#]*/,"")||"#",e=o.protocol.replace(/:.*$|$/,":")+"//"+o.host+b.basepath+e.replace(new RegExp("^#[/]?(?:"+b.type+")?"),""));else{var i=D(),a=n.getElementsByTagName("base")[0];!r&&a&&a.getAttribute("href")&&(a.href=a.href,i=D(a.href,null,!0));var c=i._pathname,f=i._protocol;e=/^(?:\w+\:)?\/\//.test(e=""+e)?0===e.indexOf("/")?f+e:e:f+"//"+i._host+(0===e.indexOf("/")?e:0===e.indexOf("?")?c+e:0===e.indexOf("#")?c+i._search+e:c.replace(/[^\/]+$/g,"")+e)}S.href=e;var l=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(S.href),s=l[2]+(l[3]?":"+l[3]:""),p=l[4]||"/",h=l[5]||"",d="#"===l[6]?"":l[6]||"",v=p+h+d,g=p.replace(new RegExp("^"+b.basepath,"i"),b.type)+h;return{_href:l[1]+"//"+s+v,_protocol:l[1],_host:s,_hostname:l[2],_port:l[3]||"",_pathname:p,_search:h,_hash:d,_relative:v,_nohash:g,_special:g+d}}function G(t,n,r,a){var o=0;r||(r={set:q},o=1);var c=!r.set,f=!r.get,l={configurable:!0,set:function(){c=1},get:function(){f=1}};try{h(t,n,l),t[n]=t[n],h(t,n,r)}catch(e){}if(!(c&&f||(t.__defineGetter__&&(t.__defineGetter__(n,l.get),t.__defineSetter__(n,l.set),t[n]=t[n],r.get&&t.__defineGetter__(n,r.get),r.set&&t.__defineSetter__(n,r.set)),c&&f))){if(o)return!1;if(t===e){try{var s=t[n];t[n]=null}catch(e){}if("execScript"in e)e.execScript("Public "+n,"VBScript"),e.execScript("var "+n+";","JavaScript");else try{h(t,n,{value:q})}catch(e){"onpopstate"===n&&(m("popstate",r=function(){E("popstate",r,!1);var e=t.onpopstate;t.onpopstate=null,setTimeout(function(){t.onpopstate=e},1)},!1),A=0)}t[n]=s}else try{try{var u=i.create(t);for(var p in h(i.getPrototypeOf(u)===t?u:t,n,r),t)"function"==typeof t[p]&&(u[p]=t[p].bind(t));try{a.call(u,u,t)}catch(e){}t=u}catch(e){h(t.constructor.prototype,n,r)}}catch(e){return!1}}return t}function U(e,t,n){return e=e===k?o:e,(n=n||{}).set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function V(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),i=I[r];if(i){if(null==(n="string"==typeof t?n:t).target)for(var a=["target","currentTarget","srcElement","type"];t=a.pop();)n=G(n,t,{get:"type"===t?function(){return r}:function(){return e}});A&&(("popstate"===r?e.onpopstate:e.onhashchange)||q).call(e,n);for(var o=0,c=i.length;o<c;o++)i[o].call(e,n);return!0}return x(t,n)}function C(){var e=n.createEvent?n.createEvent("Event"):n.createEventObject();e.initEvent?e.initEvent("popstate",!1,!1):e.type="popstate",e.state=f.state,V(e)}function J(e,t,n,r){if(u)w=o.href;else{0===T&&(T=2);var i=D(t,2===T&&-1!==(""+t).indexOf("#"));i._relative!==D()._relative&&(w=r,n?o.replace("#"+i._special):o.hash=i._special)}!p&&e&&($[o.href]=e),R=!1}function z(t){var n=w;if(w=o.href,n){j!==o.href&&C(),t=t||e.event;var r=D(n,!0),i=D();t.oldURL||(t.oldURL=r._href,t.newURL=i._href),r._hash!==i._hash&&V(t)}}function M(e){setTimeout(function(){m("popstate",function(e){j=o.href,p||(e=G(e,"state",{get:function(){return f.state}})),V(e)},!1)},0),!u&&!0!==e&&"location"in f&&(Z(d.hash),R&&(R=!1,C()))}function W(t){var n=t||e.event,r=function(e){for(;e;){if("A"===e.nodeName)return e;e=e.parentNode}}(n.target||n.srcElement),i="defaultPrevented"in n?n.defaultPrevented:!1===n.returnValue;if(r&&"A"===r.nodeName&&!i){var a=D(),o=D(r.getAttribute("href",2));a._href.split("#").shift()===o._href.split("#").shift()&&o._hash&&(a._hash!==o._hash&&(d.hash=o._hash),Z(o._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function Z(t){var i=n.getElementById(t=(t||"").replace(/^#/,""));if(i&&i.id===t&&"A"===i.nodeName){var a=i.getBoundingClientRect();e.scrollTo(r.scrollLeft||0,a.top+(r.scrollTop||0)-(r.clientTop||0))}}return function(){var t=n.getElementsByTagName("script"),r=(t[t.length-1]||{}).src||"";(-1!==r.indexOf("?")?r.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,function(e,t,n){b[t]=(n||"").replace(/^(0|false)$/,"")}),m(v+"hashchange",z,!1);var i=[k,d,P,e,B,f];p&&delete B.state;for(var c=0;c<i.length;c+=2)for(var l in i[c])if(i[c].hasOwnProperty(l))if("object"!=typeof i[c][l])i[c+1][l]=i[c][l];else{var s=U(i[c],l,i[c][l]);if(!G(i[c+1],l,s,function(t,n){n===f&&(e.history=f=i[c+1]=t)}))return E(v+"hashchange",z,!1),!1;i[c+1]===e&&(I[l]=I[l.substr(2)]=[])}return f.setup(),b.redirect&&f.redirect(),b.init&&(T=1),!p&&a&&function(){var t;try{(t=e.sessionStorage).setItem(O+"t","1"),t.removeItem(O+"t")}catch(e){t={getItem:function(e){var t=n.cookie.split(e+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(e,t){var r={};(r[o.href]=f.state)&&(n.cookie=e+"="+a.stringify(r))}}}try{$=a.parse(t.getItem(O))||{}}catch(e){$={}}m(v+"unload",function(){t.setItem(O,a.stringify($))},!1)}(),u||n[g](v+"click",W,!1),"complete"===n.readyState?M(!0):(u||D()._relative===b.basepath||(R=!0),m(v+"load",M,!1)),!0}()?(f.emulate=!u,e[g]=function(e,t,n){e in I?I[e].push(t):arguments.length>3?m(e,t,n,arguments[3]):m(e,t,n)},e[_]=function(e,t,n){var r=I[e];if(r){for(var i=r.length;i--;)if(r[i]===t){r.splice(i,1);break}}else E(e,t,n)},e[y]=V,f):void 0});
